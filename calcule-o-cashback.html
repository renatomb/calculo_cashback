<!doctype html>
<html lang="pt-br">
<head>
<title>Calculo do cashback</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Calcule quando você receberá de cashback na promoção de pagamento de boletos pelo PicPay. Calcule o valor do boleto a pagar que irá gerar o cashback máximo.">
<meta name="keywords" content="pix, qrcode pix, qr code, br code, brcode pix, pix copia e cola" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
<script src="https://kit.fontawesome.com/0f8eed42e7.js" crossorigin="anonymous"></script>
<script>
function copiar() {
  var copyText = document.getElementById("brcodepix");
  copyText.select();
  copyText.setSelectionRange(0, 99999); /* For mobile devices */
  document.execCommand("copy");
  document.getElementById("clip_btn").innerHTML='<i class="fas fa-clipboard-check"></i>';
}
function calcular(){
   valor_boleto=parseFloat(document.getElementById("valor").value);
   if (valor_boleto > 5000) {
      document.getElementById("valor").className="coral";
      document.getElementById("valorHelp").innerText="Tem certeza? AVISO: Regulamento item 2.5.3 limita o boleto no maximo R$ 5mil.";
   }
   else {
      document.getElementById("valor").className="amarelo";
      document.getElementById("valorHelp").innerText="Informe o valor do boleto que você deseja pagar.";
   }
   perc_cashback=parseFloat(document.getElementById("perc_cashback").value/100);
   cashback_maximo=parseFloat(document.getElementById("cashback_maximo").value);
   taxa_picpay=3.69/100;
   taxa_pagto_boleto=3.09/100;
   tarifa_boleto=valor_boleto*taxa_pagto_boleto;
   valor_financiado=valor_boleto*(1+taxa_pagto_boleto);
   i=document.getElementById("qtd_parcelas").value;
   valor_prestacao=(taxa_picpay/(1-Math.pow((1+taxa_picpay),-i)))*valor_financiado;
   total_cartao=valor_prestacao*i;
   juros_parcelamento=total_cartao-tarifa_boleto-valor_boleto;
   cashback=total_cartao*perc_cashback;
   if (cashback > cashback_maximo) {
      cashback=cashback_maximo;
   }
   resultado_final=valor_boleto+cashback-total_cartao;
   document.getElementById("val_boleto").value=valor_boleto.toFixed(2);
   document.getElementById("taxa_cartao").value=tarifa_boleto.toFixed(2);
   document.getElementById("valor_prestacao").value=i+" x de R$ "+valor_prestacao.toFixed(2);
   document.getElementById("total_cartao").value=total_cartao.toFixed(2);
   document.getElementById("juros_parcelamento").value=juros_parcelamento.toFixed(2);
   document.getElementById("valor_cashback").value=cashback.toFixed(2);
   document.getElementById("resultado_final").value=resultado_final.toFixed(2);
   if (resultado_final > 0) {
      document.getElementById("resultado_final").className="verde";
      document.getElementById("resultado_finalHelp").innerText="O valor do cashback é maior que o das taxas.";
   }
   else {
      document.getElementById("resultado_final").className="coral";
      document.getElementById("resultado_finalHelp").innerText="O valor das taxas é maior que o valor do cashback.";
   }

/*   valor_avista=valor_boleto*(1+taxa_pagto_boleto);
      var valor_parcela=(valor_cartao/i);
      var valor_cashback=valor_cartao*(document.getElementById("percentual_"+i).value/100);
      var resultado_parcela=valor_boleto+valor_cashback-valor_cartao;
      valor_parcela=valor_parcela.toFixed(2);
      valor_cartao=valor_cartao.toFixed(2);
      valor_cashback=valor_cashback.toFixed(2);
      if (resultado_parcela > 0) {
         document.getElementById("info_"+i).innerHTML="Você <b>ganha</b> R$ "+resultado_parcela.toFixed(2);
         document.getElementById("linha_"+i).className="verde";
      }
      else {
         document.getElementById("info_"+i).innerHTML="Você vai <b>perder R$ "+(-1*resultado_parcela).toFixed(2)+"</b> em taxas.";
         document.getElementById("linha_"+i).className="coral";
      }
      document.getElementById("cartao_"+i).innerText=valor_cartao;
      document.getElementById("parcela_"+i).innerText=valor_parcela;
      document.getElementById("boleto_"+i).innerText=valor_cashback;
      document.getElementById("detalhe_"+i).innerText="Será cobrado no seu cartão.....R$ "+valor_cartao+"\n"+
                                                      "Valor financiado...............R$ "+(valor_financiado)+"\n"+
                                                      "Taxa pagamento boleto..........R$ "+(valor_financiado*taxa_picpay).toFixed(2); 
*/
}
function reais(v){
    v=v.replace(/\D/g,"");
    v=v/100;
    v=v.toFixed(2);
    return v;
}
function mascara(o,f){
    v_obj=o;
    v_fun=f;
    setTimeout("execmascara()",1);
}
function execmascara(){
    v_obj.value=v_fun(v_obj.value);
    calcular();
}
$(function () {
  $('[data-toggle="tooltip"]').tooltip()
})
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TVLHGKR5WK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TVLHGKR5WK');
</script>
<style>
a {text-decoration: none;} 
p {text-align: center;}
td {text-align: center; font-size: 14px; }
.amarelo { background-color: yellow; }
.coral { background-color: lightcoral; }
.verde { background-color: aquamarine; }
</style>
</head>
<body>
<h2>Calcule quanto seu boleto irá gerar de cashback</h2>
<div class="card">
<div class="card-body">
   
   <table width="100%">
      <tr>
         <td id="calculos" valign="top">
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="valor" class="form-label">Preencha o valor do boleto, R$:</label>
               <input class="amarelo" type="text" id="valor" name="valor" placeholder="Informe o valor do seu boleto" size="15" maxlength="13" value="5000.00" onclick="this.select();" onkeypress="mascara(this,reais)">
               <div id="valorHelp" class="form-text">Informe o valor do boleto que você deseja pagar.</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="cashback_maximo" class="form-label">Preencha o valor máximo do cashback R$:</label>
               <input class="amarelo" type="text" id="cashback_maximo" name="maximo" placeholder="Informe o valor máximo do cashback" size="15" maxlength="13" value="700.00" onclick="this.select();" onkeypress="mascara(this,reais)">
               <div id="cashback_maximoHelp" class="form-text">Verifique o texto em letras menores no final da notificação que você recebeu no PicPay.</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="qtd_parcelas" class="form-label">Informe a quantidade de parcelas:</label>
               <input class="amarelo" type="number" id="qtd_parcelas" name="parcelas" size="3" value="2" min="2" max="12" step="1" class="amarelo" onclick="this.select();" onchange="calcular();">
               <div id="qtd_parcelasHelp" class="form-text">Informe em quantas vezes deseja parcelar o pagamento.</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="perc_cashback" class="form-label">Informe o percentual de cashback da promoção:</label>
               <input class="amarelo" type="number" id="perc_cashback" name="cashback" size="3" value="10" min="0" max="99" step="1" class="amarelo" onclick="this.select();" onchange="calcular();">
               <div id="perc_cashbackHelp" class="form-text">O percentual do cashback varia conforme a quantidade de parcelas e a promoção recebida.</div>
            </div>
            <p><button type="button" class="btn btn-primary" onclick="calcular()">Calcular quanto vou receber de cashback pagando um boleto <i class="fas fa-money-bill-wave"></i></button></p>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="val_boleto" class="form-label">Valor do boleto:</label>
               <input type="text" id="val_boleto" name="val_boleto" placeholder="Será calculado..." readonly>
               <div id="val_boletoHelp" class="form-text">Valor do boleto que será pago.</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="taxa_cartao" class="form-label">Taxa de pagamento de boleto:</label>
               <input type="text" id="taxa_cartao" name="taxa_cartao" placeholder="Será calculado..." readonly>
               <div id="taxa_cartaoHelp" class="form-text">Taxa de pagamento de boleto com cartão de crédito (3,09%).</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="juros_parcelamento" class="form-label">Juros do parcelamento:</label>
               <input type="text" id="juros_parcelamento" name="juros_parcelamento" placeholder="Será calculado..." readonly>
               <div id="juros_parcelamentoHelp" class="form-text">Taxa de juros do pagamento parcelado (3,69% a.m.).</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="valor_prestacao" class="form-label">Valor da prestação:</label>
               <input type="text" id="valor_prestacao" name="valor_prestacao" placeholder="Será calculado..." readonly>
               <div id="valor_prestacaoHelp" class="form-text">Valor da parcela que será cobrado no seu cartão.</div>
            </div>
            ===========================================================
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="total_cartao" class="form-label">Total cobrado no seu cartão:</label>
               <input type="text" id="total_cartao" name="total_cartao" placeholder="Será calculado..." readonly>
               <div id="total_cartaoHelp" class="form-text">Valor total que será cobrado no seu cartão.</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="valor_cashback" class="form-label">Você receberá de cashback:</label>
               <input type="text" id="valor_cashback" name="valor_cashback" placeholder="Será calculado..." readonly>
               <div id="valor_cashbackHelp" class="form-text">Valor que você receberá de cashback.</div>
            </div>
            <div class="row row-cols-lg-auto g-3 align-items-center">
               <label for="resultado_final" class="form-label">Resultado final:</label>
               <input type="text" id="resultado_final" name="resultado_final" placeholder="Será calculado..." readonly>
               <div id="resultado_finalHelp" class="form-text">Resultado desta operação.</div>
            </div>
            <p>Veja também:</p>
            <p><a href="calcule-o-boleto.html"><button type="button" class="btn btn-info">Calcular valor do boleto para ganhar o cashback máximo <i class="fas fa-barcode"></i></button></a></p>
         </td>
         <td width="270" valign="top"><h3><font color="blue">Ajude a manter este projeto, mande pix:</font></h3><img src="logo_pix.png"><br><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR0AAAEdAQMAAAALpCE4AAAABlBMVEX///8AAABVwtN+AAADV0lEQVRoge1aQY7jMAxT0IOPeYJ/0nwsQAL0Y+1P/IQccwiiJam0zXQ+oB3UB08mZgdwJdEUPWbf8R1/fvTuvtulrVf+du1vvg5+a6vhCWPOC8KPq118NUzlsYwVTxPXby1Ws4KwHYCa3zX13orWO0y+5wd52ftb4+4M08WtWy7/A8jMHUtIJWcqzRVvsoNmpT+CgY1FSXRIf4XqZ9JlA7GCAVqvv6aPMk8GOkY1RiRq+WpMqp/r+UDIHdTAVlnBkU/cVFsHkFBukHu5gyTJ7g1PI/epQhjrOXYJQc0G0AyqYcNSv6EGsGOwJ/Lp3ucFIXdWTtiY1cLYYGwVjA/44HlBCIaRM4uLcFi8HUgI6xs5KS+IJMncUQLhyaokgUD+WCwvaEQFU8E8GIdumZrySaBT7PKB+jhPTVoGhDO56kIKAUeu5QVtht0p/Qk/xOSxxdfxmhCk4iXZMyzUX05p0/BB4wFgaUEg+5VxiD29wsJU4gfntCAMMWUomAcKQamEkjjoKC0IAl0N3cCkxxPDMtbzH8kJ6kU4Y6SSlBgmgB6A27DkBbGpILsXaoDoNighodz9pAsygqgLerUXFr01ZS9lpXg0MWiKGlBj+uw7ZpOizA0iu4vYbYpug+xZjU3eqzHNCOK374oDQdFtLGIiPzWBGUHbsTFkftN59ZQEkVl5QWroEBYp3mcWVZZxlSmQFcR8won0euvkzMmLQnU3ywuaont2mlxSYn6wJ3TBnhlEmwi7k6Moxpc4WJlo5V3m+UBUjyxU7i4M6fUaPCqPNC/IJAnoV0A9cpKRgQPKTuZLTlB8++rlUAgbhSNNpP6HLsgHkuXCkt3Zd+xs8oh0OknvbiMjKAzQqiZUNgyE4xS0L3MjK4hJL6Y0ZREPLTV5isjLL8gIQjCY/kdrh7cqBHXZuUGTa3p6GDqqNsWGly6WFiRnlHuKpHI6vNLw0WrnBQWSKh0HbTnuW3gPEMg5LShucY3CkZaLCpoKoQuXMTFopnN7WHRKf9qjJt/l7dBkBB13ish80iW7jV1XGcynE7HmBIWq4TrJnr6Gjtfy9KLTgrREEjpuEl13o/XjqjcZaJZzERdyuusq4f6Hk2R5QazgkDHu+u8KLkmJtY/r51yg7/iOPz3+AQrz/9m9jShQAAAAAElFTkSuQmCC"><br><font color="blue">42a57095-84f3-4a42-b9fb-d08935c86f47</font><h4>Acesse o grupo no telegram:</h4><a href="https://t.me/PicPay"><i class="fab fa-telegram fa-4x"></i></a></td>
      </tr>
   </table>
</div></div>
<div class="card"></div>
<p>Este é um projeto opensource criado em 2021 por <i class="fas fa-user-secret"></i> <a href="http://renato.ovh" target="_blank">Renato Monteiro Batista</a>.</p>
<p>O código fonte <i class="fas fa-code"></i> está disponível no <a href="https://github.com/renatomb/calculo_cashback" target="_blank">Repositório <i class="fab fa-git-square"></i> calculo_cashback <i class="fab fa-github"></i></a>.</p>
</div>
<div class="card"></div>
<script data-ad-client="ca-pub-6914621756983807" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></body>
</html>